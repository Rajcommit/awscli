ImageId: ami-08982f1c5bf93d976
InstanceType: t3.micro
KeyName: newkey
IamInstanceProfile:
  Name: ssmagentRole
NetworkInterfaces:
  - AssociatePublicIpAddress: true
    DeviceIndex: 0
    SubnetId: subnet-01f15e48068475359
    Groups:
      - sg-0a03f442de642f8a0
UserData: "IyEvYmluL2Jhc2gKc2V0IC1ldXhvIHBpcGVmYWlsCmV4ZWMgPiA+KHRlZSAvdmFyL2xvZy91c2VyLWRhdGEubG9nIHwgbG9nZ2VyIC10IHVzZXItZGF0YSAtcykgMj4mMQoKZWNobyAiW3VzZXItZGF0YV0gU3RhcnRpbmcgYm9vdHN0cmFwIGF0ICQoZGF0ZSAtLWlzby04NjAxPXNlY29uZHMpIgoKaWYgISBjb21tYW5kIC12IGRuZiA+L2Rldi9udWxsIDI+JjE7IHRoZW4KICBlY2hvICJbdXNlci1kYXRhXSBkbmYgbm90IGZvdW5kOyB0aGlzIHNjcmlwdCBleHBlY3RzIEFtYXpvbiBMaW51eCAyMDIzIiA+JjIKICBleGl0IDEKZmkKCmRuZiAteSB1cGRhdGUKZG5mIC15IGluc3RhbGwgaHR0cGQgcGhwIHBocC1jbGkgcGhwLW15c3FsbmQKCnN5c3RlbWN0bCBlbmFibGUgLS1ub3cgaHR0cGQKCmNhdCA8PCdQSFBJTkZPJyA+L3Zhci93d3cvaHRtbC9pbmZvLnBocAo8P3BocApwaHBpbmZvKCk7ClBIUElORk8KCmNhdCA8PCdQSFBBUFAnID4vdmFyL3d3dy9odG1sL2luZGV4LnBocAo8IURPQ1RZUEUgaHRtbD4KPGh0bWwgbGFuZz0iZW4iPgo8aGVhZD4KICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgPHRpdGxlPvCfjJ8gV2VsY29tZSB0byBNeSBEeW5hbWljIEFXUyBTaXRlIPCfjJ88L3RpdGxlPgogIDxzdHlsZT4KICAgIGJvZHkgeyBtYXJnaW46MDsgZm9udC1mYW1pbHk6J1NlZ29lIFVJJyxzYW5zLXNlcmlmOyBiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxMzVkZWcsIzc0QUJFMiwjNTU2M0RFKTsgY29sb3I6d2hpdGU7IHRleHQtYWxpZ246Y2VudGVyOyB9CiAgICBoZWFkZXIgeyBwYWRkaW5nOjQwcHg7IGJhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjUpOyB9CiAgICBoMSB7IGZvbnQtc2l6ZTozZW07IG1hcmdpbjowOyB9CiAgICBwIHsgZm9udC1zaXplOjEuMmVtOyB9CiAgICAuY2FyZCB7IGJhY2tncm91bmQ6d2hpdGU7IGNvbG9yOiMzMzM7IG1hcmdpbjo0MHB4IGF1dG87IHBhZGRpbmc6MjBweDsgYm9yZGVyLXJhZGl1czoxMnB4OyBtYXgtd2lkdGg6NjAwcHg7IGJveC1zaGFkb3c6MHB4IDRweCAyMHB4IHJnYmEoMCwwLDAsMC4zKTsgfQogICAgaW1nIHsgbWF4LXdpZHRoOjEwMCU7IGJvcmRlci1yYWRpdXM6MTJweDsgfQogICAgZm9vdGVyIHsgcGFkZGluZzoyMHB4OyBiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsMC40KTsgbWFyZ2luLXRvcDo0MHB4OyB9CiAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICA8aGVhZGVyPgogICAgPGgxPvCfjJAgTXkgQVdTIER5bmFtaWMgV2Vic2l0ZTwvaDE+CiAgICA8cD5SdW5uaW5nIG9uIEVDMiArIFJEUzwvcD4KICA8L2hlYWRlcj4KICA8ZGl2IGNsYXNzPSJjYXJkIj4KICAgIDxpbWcgc3JjPSJodHRwczovL3NvdXJjZS51bnNwbGFzaC5jb20vODAweDQwMC8/bmF0dXJlLHRlY2hub2xvZ3kiIGFsdD0iQmFubmVyIEltYWdlIj4KICAgIDxoMj5IZWxsbyBmcm9tIEVDMiE8L2gyPgogICAgPHA+CiAgICAgIDw/cGhwCiAgICAgICAgbXlzcWxpX3JlcG9ydChNWVNRTElfUkVQT1JUX09GRik7CiAgICAgICAgJHNlcnZlcm5hbWUgPSAicm9odXJkcy5jNDlnY2k0YXk1eW8udXMtZWFzdC0xLnJkcy5hbWF6b25hd3MuY29tIjsKICAgICAgICAkdXNlcm5hbWUgICA9ICJyb2h1cmRzIjsKICAgICAgICAkcGFzc3dvcmQgICA9ICJyZWRoYXRyb2hpbmkiOwogICAgICAgICRkYm5hbWUgICAgID0gImRhdGFic2UiOwoKICAgICAgICAkY29ubiA9IEBteXNxbGlfY29ubmVjdCgkc2VydmVybmFtZSwgJHVzZXJuYW1lLCAkcGFzc3dvcmQsICRkYm5hbWUpOwogICAgICAgIGlmICghJGNvbm4pIHsKICAgICAgICAgIGVjaG8gJ+KdjCBEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZDogJyAuIGh0bWxzcGVjaWFsY2hhcnMobXlzcWxpX2Nvbm5lY3RfZXJyb3IoKSwgRU5UX1FVT1RFUywgJ1VURi04Jyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGVjaG8gJ+KchSBDb25uZWN0ZWQgdG8gZGF0YWJhc2U6ICcgLiBodG1sc3BlY2lhbGNoYXJzKCRkYm5hbWUsIEVOVF9RVU9URVMsICdVVEYtOCcpIC4gJzxicj4nOwogICAgICAgICAgJHJlc3VsdCA9IG15c3FsaV9xdWVyeSgkY29ubiwgJ1NFTEVDVCBOT1coKSBBUyBub3d0aW1lJyk7CiAgICAgICAgICBpZiAoJHJlc3VsdCkgewogICAgICAgICAgICAkcm93ID0gbXlzcWxpX2ZldGNoX2Fzc29jKCRyZXN1bHQpOwogICAgICAgICAgICBpZiAoJHJvdyAmJiBpc3NldCgkcm93Wydub3d0aW1lJ10pKSB7CiAgICAgICAgICAgICAgZWNobyAn4o+wIEN1cnJlbnQgREIgdGltZTogJyAuIGh0bWxzcGVjaWFsY2hhcnMoJHJvd1snbm93dGltZSddLCBFTlRfUVVPVEVTLCAnVVRGLTgnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBteXNxbGlfZnJlZV9yZXN1bHQoJHJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgICBteXNxbGlfY2xvc2UoJGNvbm4pOwogICAgICAgIH0KICAgICAgPz4KICAgIDwvcD4KICA8L2Rpdj4KICA8Zm9vdGVyPgogICAgPHA+8J+agCBQb3dlcmVkIGJ5IEFXUyB8IEVDMiArIFJEUyArIEFwYWNoZSArIFBIUDwvcD4KICA8L2Zvb3Rlcj4KPC9ib2R5Pgo8L2h0bWw+ClBIUEFQUAoKY2F0IDw8J0VOVkZJTEUnID4vZXRjL3Byb2ZpbGUuZC9hcHAtZW52LnNoCmV4cG9ydCBEQl9IT1NUPXJvaHVyZHMuYzQ5Z2NpNGF5NXlvLnVzLWVhc3QtMS5yZHMuYW1hem9uYXdzLmNvbQpleHBvcnQgREJfVVNFUj1yb2h1cmRzCmV4cG9ydCBEQl9QQVNTPXJlZGhhdHJvaGluaQpleHBvcnQgREJfTkFNRT1kYXRhYnNlCkVOVkZJTEUKCmNob3duIGFwYWNoZTphcGFjaGUgL3Zhci93d3cvaHRtbC9pbmRleC5waHAgL3Zhci93d3cvaHRtbC9pbmZvLnBocApjaG1vZCA2NDQgL3Zhci93d3cvaHRtbC8qLnBocAoKc3lzdGVtY3RsIHJlc3RhcnQgaHR0cGQKCmN1cmwgLWZzUyBodHRwOi8vMTI3LjAuMC4xLyB8IGhlYWQgLW4gMjAgfHwgdHJ1ZQpjdXJsIC1mc1MgaHR0cDovLzEyNy4wLjAuMS9pbmZvLnBocCB8IGhlYWQgLW4gMjAgfHwgdHJ1ZQpzeXN0ZW1jdGwgc3RhdHVzIGh0dHBkIC0tbm8tcGFnZXIgfHwgdHJ1ZQoKZWNobyAiW3VzZXItZGF0YV0gQ29tcGxldGVkIGF0ICQoZGF0ZSAtLWlzby04NjAxPXNlY29uZHMpIgo="
TagSpecifications:
  - ResourceType: instance
    Tags:
      - Key: Name
        Value: neweraInstance
      - Key: Environment
        Value: Dev
      - Key: Project
        Value: AutoInfra
